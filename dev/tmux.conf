# Keep PATH in sync between shell and tmux.
set -ga update-environment "PATH"

# Show useful window names automatically: "<command>:<directory>"
# This makes Ctrl+b w show both the agent (command) and the worktree (dir).
setw -g automatic-rename on
setw -g automatic-rename-format '#{pane_current_command}:#{b:pane_current_path}'

# New windows should start in the default worktree when SCOUT_DIR is set.
# Fallback to the current pane path if SCOUT_DIR is missing.
bind c new-window -c "#{?env:SCOUT_DIR,#{env:SCOUT_DIR},#{pane_current_path}}"
